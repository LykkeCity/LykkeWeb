<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 ie7"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9 ie8"> <![endif]-->
<!--[if IE 9]>         <html class="no-js ie9"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Lykke – The Future of Markets</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="manifest.json">
  <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="css/vendor/bootstrap-custom.min.css">
  <link rel="stylesheet" href="css/style.css?v2">

  <!--[if lte IE 9]>
  <script type="text/javascript" src="js/vendor/html5shiv.js"></script>
  <![endif]-->

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-68151354-1', 'auto');
    ga('send', 'pageview');

  </script>

  <!-- Start of lykkex Zendesk Widget script -->
  <script>/*<![CDATA[*/window.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement("iframe");window.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="display: none",d=document.getElementsByTagName("script"),d=d[d.length-1],d.parentNode.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(c){n=document.domain,r.src='javascript:var d=document.open();d.domain="'+n+'";void(0);',o=s}o.open()._l=function(){var o=this.createElement("script");n&&(this.domain=n),o.id="js-iframe-async",o.src=e,this.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write('<body onload="document._l();">'),o.close()}("https://assets.zendesk.com/embeddable_framework/main.js","lykkex.zendesk.com");
  /*]]>*/</script>
  <!-- End of lykkex Zendesk Widget script -->

</head>

<body class="new_page">

<header class="header header--new">
  <div class="container">
    <div class="row">
      <div class="col-xs-2 col-sm-2"><a href="/" class="logo header__logo"><img src="img/lykke_new.svg" height="50" alt=""/></a></div>
      <div class="col-xs-10 col-sm-10 col-md-8 text-center">
        <button type="button" class="navbar-toggle collapsed btn btn--stroke pull-right" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbar-collapse">
          <div class="t-simulate">
            <div class="t-row">
              <div class="t-cell">
                <ul class="nav nav--header">
                  <li class="active">
                    <a class="dropdown__control" href="https://lykke.com/exchange.php" >Exchange</a>
                    <div class="dropdown__container">
                      <ul class="dropdown__nav">
                        <li><a href="https://lykke.com/lykkex_rulebook.php">LykkeX Rulebook</a></li>
                        <li><a href="https://lykke.com/term_conditions_colored_coins.php">Terms of Issuance</a></li>
                        <li><a href="https://api.lykkex.com/swagger/ui/index#/" target="_blank">LykkeX API</a></li>
                        <li><a href="https://github.com/LykkeCity/" target="_blank">Github</a></li>
                        <li><a href="https://lykke.com/Whitepaper_LykkeExchange.pdf">White Paper</a></li>
                      </ul>
                    </div>
                  </li>
                  <li class="_add_active_city">
                    <a class="dropdown__control" href="https://lykke.com/city.php">City</a>
                    <div class="dropdown__container">
                      <ul class="dropdown__nav">
                        <li><a href="https://lykke.com/city/faq">FAQ</a></li>
                        <li><a href="https://lykke.com/city/about/openposition">Open Positions</a></li>
                        <li><a href="https://lykke.com/city/lykketimes">Lykke Times</a></li>
                        <li><a href="https://lykke.com/city/blog/index">Blog</a></li>
                      </ul>
                    </div>
                  </li>
                  <li class="_add_active_corp"><a class="dropdown__control" href="https://lykke.com/corp.php">Corp</a>
                    <div class="dropdown__container">
                      <ul class="dropdown__nav">
                        <li><a href="https://lykke.com/leadership.php">Leadership</a></li>
                        <li><a href="https://lykke.com/technology.php">Technology </a></li>
                        <li><a href="https://lykke.com/contacts.php">Contacts</a></li>
                      </ul>
                    </div>
                  </li>
                  <li><a href="http://blockchainexplorer.lykke.com/">Explorer</a></li>
                  <li><a href="https://streams.lykke.com/">Streams</a></li>
                </ul>
              </div>
            </div>
          </div>

          <ul class="social social--header visible-xs visible-sm">
            <li><a href="https://www.facebook.com/groups/542506412568917/" target="_blank" class="social__item"><i class="icon icon--fb_simple"></i></a></li>
            <li><a href="https://twitter.com/LykkeCity" target="_blank" class="social__item"><i class="icon icon--tw"></i></a></li>
            <li><a href="http://instagram.com/lykkecity" target="_blank" class="social__item"><i class="icon icon--instagram"></i></a></li>
            <li><a href="https://www.youtube.com/channel/UCmMYipGdKMF0kzfaE-PXsNQ" target="_blank" class="social__item"><i class="icon icon--youtube"></i></a></li>
            <li><a href="https://www.linkedin.com/company/lykke-ag" target="_blank" class="social__item"><i class="icon icon--linkedin-icn"></i></a></li>
            <li><a href="https://www.reddit.com/r/lykke/" target="_blank" class="social__item"><i class="icon icon--reddit"></i></a></li>
            <li><a href="https://t.co/TmjMYnQD7T" target="_blank" class="social__item"><i class="icon icon--telegram"></i></a></li>
          </ul>
        </div>
      </div>

      <div class="col-sm-3">
      </div>

    </div>
  </div>
</header>

<article class="content">
  <nav class="page_nav">
    <div class="page_nav__inner">
      <div class="container">
        <ul class="page_nav__list">
          <li class="page_nav__item"><a href="lykkex_rulebook.html">LykkeX Rulebook</a></li>
          <li class="page_nav__item"><a href="term_conditions_colored_coins.html">Term of Issuance</a></li>
          <li class="page_nav__item"><a href="https://api.lykkex.com/swagger/ui/index#/" target="_blank">LykkeX API</a></li>
          <li class="page_nav__item"><a href="https://github.com/LykkeCity/" target="_blank">Github</a></li>
          <li class="page_nav__item active"><a href="https://lykke.com/Whitepaper_LykkeExchange.pdf">White Paper</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <section class="text section--padding">
    <div class="container">
      <div class="row">

        <div class="col-sm-8 automargin">
          <div class="clearfix">
            <a href="https://lykke.com/city/_media/lykke_whitepaper_march2016.pdf" target="_blank" class="btn btn--stroke pull-right">PDF Version</a>
            <h1 class="h1">Colored Coins Exchange White Paper</h1>
          </div>

          <p>We&nbsp;present the architecture of&nbsp;an&nbsp;exchange for colored coins, that is&nbsp;issuer-backed securities on&nbsp;the Bitcoin blockchain. Orders are collected and matched by&nbsp;a&nbsp;semi-trusted exchange. Matched orders are settled on&nbsp;the Bitcoin blockchain, where each successful trade between k&nbsp;parties appears as&nbsp;a&nbsp;set of&nbsp;k+1&nbsp;transactions. Unfilled and expired orders are discarded. The exchange does not take possession of&nbsp;the traded coins, but needs to&nbsp;be&nbsp;trusted to&nbsp;match trades correctly. Assuming a&nbsp;basic level of&nbsp;trust in&nbsp;the trader&nbsp;— which could for example be&nbsp;established by&nbsp;providing collateral&nbsp;— trading can take place as&nbsp;fast as&nbsp;the communication between trader and exchange permits, with a&nbsp;subsequent settlement on&nbsp;the blockchain.</p>
          <h3>Introduction</h3>
          <p>Exchanges for crypto-currencies can be&nbsp;organized with a&nbsp;different degree of&nbsp;centralization. Typically, centralized exchanges are much more efficient, whereas decentralized exchanges are more secure as&nbsp;they require less trust in&nbsp;the exchange. Due to&nbsp;their higher efficiency and simplicity, most volume is&nbsp;currently traded on&nbsp;centralized exchanges such as&nbsp;BTC China, Bitstamp or&nbsp;Bitfinex. A&nbsp;trader on&nbsp;such an&nbsp;exchange must entrust all assets in&nbsp;his trading account to&nbsp;the exchange. History shows that this is&nbsp;not without risk, with the most famous examples being the collapse of&nbsp;MtGox (more than 600’000 Bitcoins disappeared) and the hacking of&nbsp;Bitcoinica (43’000 stolen Bitcoins). Exchanges such as&nbsp;Bitcoin.de and LocalBitcoins are more decentralized and restrict themselves to&nbsp;organize trades and offer escrow services, but let the traders execute the actual trade bilaterally, whereas traders on&nbsp;LocalBitcoins often even meet physically. This naturally limits the achievable speed of&nbsp;trading to&nbsp;the speed of&nbsp;the underlying payment system (e.g. SEPA or&nbsp;moving bank notes). These exchanges can achieve a&nbsp;much higher trading frequency without having to&nbsp;resort to&nbsp;client deposits by&nbsp;restricting themselves to&nbsp;crypto-currencies that can be&nbsp;exchanged instantly.</p>
          <p>Examples of&nbsp;such exchanges or&nbsp;whole crypto-currency systems that include built-in decentralized exchanges are OpenTransactions, Ripple, Nextcoin, and BitsharesX&nbsp;— none of&nbsp;which have achieved the same commercial success yet as&nbsp;the aforementioned centralized exchanges. These exchanges frequently try to&nbsp;even decentralize the matching of&nbsp;trades, which is&nbsp;problematic as&nbsp;it&nbsp;is&nbsp;fundamentally hard to&nbsp;enforce rules in&nbsp;a&nbsp;decentralized system, especially when timing is&nbsp;crucial. For the design of&nbsp;our exchange, we&nbsp;opt for a&nbsp;system with centralized matching of&nbsp;trades, but with direct bilateral exchange of&nbsp;assets, trying to&nbsp;combine the best of&nbsp;both worlds. One should also note that, when trading a&nbsp;particular colored coin or&nbsp;any other issuer-backed asset, there is&nbsp;exposure to&nbsp;a&nbsp;centralized point of&nbsp;failure anyway, namely the issuer.</p>
          <h3>Design Considerations</h3>
          <p>We&nbsp;follow the design principles of&nbsp;simplicity and minimal risk. Thus, we&nbsp;prefer proven systems with known shortcomings that are good enough for our purposes over theoretically better systems. The best validated distributed ledger technology is&nbsp;clearly Bitcoin, with a&nbsp;blockchain spanning back more than five years. Unfortunately, the Bitcoin network only supports one asset, the Bitcoin. One way to&nbsp;overcome this, would be&nbsp;to&nbsp;create an&nbsp;adapted version and to&nbsp;operate a&nbsp;separate blockchain that runs that adapted protocol. With a&nbsp;separate blockchain, one cannot benefit from all the computing power securing the Bitcoin network, calling for further adaptions, such as&nbsp;abandoning proof-of-work (majority of&nbsp;computing power says which transactions settle) for proof-of-stake (majority of&nbsp;coin wealth says which transactions settle) or&nbsp;something entirely different. The path of&nbsp;building a&nbsp;custom ledger has been chosen by&nbsp;a&nbsp;number of&nbsp;crypto-currencies, such as&nbsp;Nextcoin or&nbsp;Ethereum. This leads to&nbsp;the risks of&nbsp;over-engineering and stepping into uncharted territories, which are both hard to&nbsp;control.</p>
          <p>Thus, instead of&nbsp;creating yet another distributed ledger, we&nbsp;decided to&nbsp;make use of&nbsp;the Colored Coin approach, which builds on&nbsp;top of&nbsp;the Bitcoin blockchain. As&nbsp;the name suggests, colored coins follow the idea of&nbsp;«coloring» a&nbsp;specific Bitcoin, with an&nbsp;issuers guaranteeing to&nbsp;hand out the underlying assets to&nbsp;whoever returns that colored Bitcoins (or&nbsp;a&nbsp;fraction thereof). Thus, such colored coins are always linked to&nbsp;Bitcoins&nbsp;— like physical coins being bound to&nbsp;a&nbsp;few grams of&nbsp;a&nbsp;metal that also has a&nbsp;value in&nbsp;itself and is&nbsp;independent of&nbsp;the currency value. Further limitations are discussed in&nbsp;the scalability section.</p>
          <p>The proposed exchange is&nbsp;positioned in&nbsp;between completely decentralized exchanges (such as&nbsp;Counterparty) and completely centralized exchanges (such as&nbsp;Bitstamp, Coinbase, etc). Decentralized approaches tend to&nbsp;come with significant overhead, for example by&nbsp;creating an&nbsp;entry on&nbsp;the blockchain for every issued order. Centralized exchanges are much more efficient, but require the exchange to&nbsp;take possession over the assets of&nbsp;the traders as&nbsp;deposits, which in&nbsp;many jurisdictions comes with certain regulatory duties (e.g. requiring a&nbsp;banking license). Our approach finds a&nbsp;middle ground between those two. Only completed trades enter the blockchain, while unfilled orders are discarded. At&nbsp;the same time, assets can be&nbsp;traded ad&nbsp;hoc and are directly transferred between the trading parties, thereby letting the exchange act as&nbsp;a&nbsp;mere broker without holding client money as&nbsp;deposits.</p>
          <h3>Involved Parties</h3>
          <p>There are three involved parties:</p>
          <ul>
            <li>
              <div class="li">Issuers issue IOUs as&nbsp;colored coins. These coins can represent currencies, stocks, or&nbsp;any other transferable asset. An&nbsp;exchange can demand from the issuer to&nbsp;file a&nbsp;formal application for his coins to&nbsp;be&nbsp;listed, but there is&nbsp;no&nbsp;technical necessity to&nbsp;do&nbsp;so. In&nbsp;principle, any colored coin could be&nbsp;traded on&nbsp;an&nbsp;exchange&nbsp;— even without the consent of&nbsp;the issuer. The role of&nbsp;the issuers is&nbsp;passive, all they can do&nbsp;is&nbsp;observing completed trades as&nbsp;they settle on&nbsp;the blockchain.</div>
            </li>
            <li>
              <div class="li">Traders possess Bitcoins or&nbsp;colored coins and desire to&nbsp;trade them for other assets. Traders typically need to&nbsp;be&nbsp;registered with the exchange in&nbsp;order to&nbsp;establish a&nbsp;basic level of&nbsp;trust (e.g. legally or&nbsp;by&nbsp;providing a&nbsp;collateral). To&nbsp;initiate trades, they send orders to&nbsp;an&nbsp;exchange of&nbsp;their choice. The traded assets must reside on&nbsp;a&nbsp;Bitcoin address associated with the trader’s account on&nbsp;the exchange. Traders primarily communicate directly with the exchange, but should also observe the blockchain to&nbsp;verify the correct settlement of&nbsp;their trades.</div>
            </li>
            <li>
              <div class="li">Exchanges wait for traders to&nbsp;send them orders and collect them in&nbsp;an&nbsp;order book. The usual order types are supported (bid, ask, limit, etc). Matched trades are settled on&nbsp;the blockchain. In&nbsp;principle, any asset pair can be&nbsp;traded, but in&nbsp;practice market forces will probably let a&nbsp;dominating currency emerge (similar to&nbsp;the USD in&nbsp;classical foreign exchange). There could be&nbsp;various competing exchanges.</div>
            </li>
          </ul>
          <h3>High-Level Description</h3>
          <p>Traders create an&nbsp;order by&nbsp;creating and signing a&nbsp;transaction to&nbsp;send x&nbsp;coins to&nbsp;the exchange, whereas x&nbsp;is&nbsp;the amount and type of&nbsp;coins they intend to&nbsp;sell. Unlike usual transactions, this transaction is&nbsp;not sent to&nbsp;the Bitcoin network, but to&nbsp;the exchange instead, along with additional information about the order (type, asset to&nbsp;buy, limit, etc.). As&nbsp;soon as&nbsp;the exchange receives a&nbsp;matching order containing a&nbsp;second transaction, the exchange creates a&nbsp;third transaction that sends the exchanged amounts to&nbsp;the two traders. These three transactions together form a&nbsp;trade and are sent to&nbsp;the Bitcoin network for execution. The third transaction is&nbsp;also sent to&nbsp;the two traders, so&nbsp;they can immediately reuse the proceeds for subsequent transactions. Unfilled or&nbsp;cancelled orders are simply discarded.</p>

          <figure class="image-container">
            <div class="image">
              <img src="img/exchange/transactionmatching.png" class="img-responsive automargin" alt="">
            </div>
            <figcaption>Figure&nbsp;1: Transaction Matching: Each trader sends an&nbsp;order including a&nbsp;pre-signed transaction to&nbsp;the exchange. In&nbsp;case the exchange can match two orders, it&nbsp;creates a&nbsp;third transaction for the trade itself and sends them all to&nbsp;the blockchain for settlement. In&nbsp;case an&nbsp;order expires, it&nbsp;is&nbsp;simply dropped.</figcaption>
          </figure>

          <h3>Alternative Approach</h3>
          <p>Depending on&nbsp;the desired properties of&nbsp;the exchange, one could also follow the alternative approach of&nbsp;having one transaction per trade that is&nbsp;signed by&nbsp;all involved traders. Its main advantages are guaranteed atomicity, and no&nbsp;risk of&nbsp;the exchange taking possession of&nbsp;the traded coins. Its disadvantage is&nbsp;that the orders are not enforceable: in&nbsp;order to&nbsp;execute a&nbsp;trade, both traders must sign a&nbsp;settling transaction after the orders have been matched. Thus, traders must be&nbsp;permanently online as&nbsp;long as&nbsp;they have pending trades. If&nbsp;one of&nbsp;them happens to&nbsp;be&nbsp;unavailable at&nbsp;the time of&nbsp;trading, the trade is&nbsp;delayed or&nbsp;fails, making execution less reliable and reducing achievable trading frequency to&nbsp;the speed of&nbsp;the party on&nbsp;the other side of&nbsp;the trade. We&nbsp;do&nbsp;not further describe this alternative approach inhere, but&nbsp;— depending on&nbsp;design priorities&nbsp;— it&nbsp;remains a&nbsp;valid option. In&nbsp;theory, one could even create an&nbsp;exchange that supports both types of&nbsp;orders and match trades across order types.</p>
          <h3>Matching</h3>
          <p>The employed order matching algorithm can be&nbsp;freely chosen by&nbsp;the exchange. For example, an&nbsp;exchange could allow for different order types: immediate orders that are matched as&nbsp;soon as&nbsp;possible, and fixing orders that are matched at&nbsp;the next fixing point. Thanks to&nbsp;the high transparency provided by&nbsp;the blockchain, these fixings are good candidates as&nbsp;official exchange rates.</p>
          <h3>Atomicity</h3>
          <p>Normally, all the three transactions that comprise a&nbsp;trade between two traders should make it&nbsp;into the same block, leading to&nbsp;atomic settlement of&nbsp;the trade. However, this cannot be&nbsp;guaranteed. A&nbsp;miner could embed the first two transactions without embedding the third transaction into the blockchain&nbsp;— for example because there is&nbsp;not enough space left in&nbsp;the current block. Since it&nbsp;is&nbsp;not possible to&nbsp;settle the third transaction without both of&nbsp;the others, the worst this can lead to&nbsp;is&nbsp;that the assets temporarily reside with the exchange until the third transaction settles. In&nbsp;case of&nbsp;a&nbsp;large order that is&nbsp;matched with k&nbsp;smaller orders at&nbsp;once, all of&nbsp;the resulting trades can be&nbsp;executed in&nbsp;k+1&nbsp;transactions.</p>
          <h3>Partial Trades</h3>
          <p>Most of&nbsp;the time, one of&nbsp;the involved orders will only be&nbsp;partially filled. The remaining funds are immediately returned to&nbsp;the sender for resubmission of&nbsp;the remaining trade. For example, if&nbsp;trader Toni issues an&nbsp;order to&nbsp;sell 100&nbsp;USD for EUR and his order is&nbsp;immediately matched with 80&nbsp;USD worth of&nbsp;counter-orders, the remaining 20&nbsp;USD are sent back to&nbsp;Toni along with the acquired EUR. Toni’s trading software then automatically creates and signs a&nbsp;new order to&nbsp;sell the remaining 20&nbsp;USD.</p>
          <h3>Scalability</h3>
          <p>Generally, all received coins can immediately be&nbsp;reused in&nbsp;a&nbsp;new trade. Thus, trading can be&nbsp;as&nbsp;fast as&nbsp;the connection between trader and exchange permits (normally in&nbsp;the range of&nbsp;10ms&nbsp;— 100ms). Temporarily, the number of&nbsp;trades can exceed the limits given by&nbsp;the Bitcoin blockchain, as&nbsp;this just leads to&nbsp;a&nbsp;delayed settlement. Note that the size of&nbsp;the collateral (or&nbsp;amount of&nbsp;trust in&nbsp;the trader) should cover the potential net gain of&nbsp;the trader when unwinding the unsettled transactions. Thus, the exchange should measure that potential net gain and block further trading in&nbsp;case it&nbsp;approaches the size of&nbsp;the collateral.</p>
          <p>
            Today, Bitcoin has a limit of about 500’000 transactions per day <sup id="fnt__1_link"><a href="#fnt__1" data-toggle="tooltip" data-placement="top" title="Depends on transaction, see also Maximum Transaction Rate on Bitcoin Wiki" class="tooltip_anchor">1)</a></sup>.  Today, the network processes about 80’000 transactions per day <sup id="fnt__2_link"><a target="_blank" href="#fnt__2" data-toggle="tooltip" data-placement="top" title="Blockchain.info, Number of transactions per day." class="tooltip_anchor">2)</a></sup>.  The limit was set by Satoshi Nakamoto in 2009 with the aim of making sure that a typical home PC can archive and process every transaction in real time. As soon as the number of issued transactions hits the limit, miners will start to drop the ones with the lowest fees. As every dropped transaction means a loss of potential revenue, they will likely push for an increase of the limit in such a scenario. Also note that our exchange can probably afford to pay higher transaction fees than the average user (e.g. 10 cents per transaction instead of just 5 cents as currently recommended), thus letting others suffer from dropped transactions first. The actual technical limit according to core developer Gavin Andresen is in the range of hundreds of millions of transactions per day <sup id="fnt__3_link"><a href="#fnt__3" data-toggle="tooltip" data-placement="top" title="Gavin." class="tooltip_anchor">3)</a></sup>.
          </p>
          <p>Another issue is&nbsp;that verifying the ownership of&nbsp;colored coins is&nbsp;computationally more expensive than necessary because the Bitcoin blockchain is&nbsp;unaware of&nbsp;their existence: instead of&nbsp;just verifying one transaction, the recipient of&nbsp;colored coins must verify the whole chain of&nbsp;transactions since the issuance of&nbsp;that coin. This verification is&nbsp;no&nbsp;problem for a&nbsp;normal&nbsp;PC, but could be&nbsp;for a&nbsp;light-weight client (e.g. a&nbsp;mobile phone). One could alleviate the problem by&nbsp;allowing the issuer to&nbsp;offer a&nbsp;reissuance service. Similar to&nbsp;a&nbsp;central bank that replaces worn bank notes with freshly printed ones, the issuer could renew often traded colored coins every now and then, thereby collapsing their transfer history and ensuring efficient verification. Another alternative would be&nbsp;to&nbsp;convince a&nbsp;majority of&nbsp;the miners to&nbsp;reject invalid colored coin transactions, which is&nbsp;politically hard&nbsp;— if&nbsp;not impossible&nbsp;— to&nbsp;achieve.</p>
          <h3>Attacks</h3>
          <p>Malicious traders could prevent the settlement of&nbsp;a&nbsp;trade by&nbsp;issuing a&nbsp;competing transaction that sends the offered coins elsewhere. Doing this is&nbsp;trivial as&nbsp;long as&nbsp;the order is&nbsp;pending and thus no&nbsp;transaction published&nbsp;— but assuming that the exchange provides an&nbsp;option to&nbsp;cancel pending orders, there is&nbsp;no&nbsp;motivation to&nbsp;do&nbsp;so&nbsp;as&nbsp;both result in&nbsp;the same, namely the cancellation of&nbsp;the order.</p>
          <p>A&nbsp;malicious trader might also regret an&nbsp;order after it&nbsp;was matched and sent to&nbsp;the network, thus wanting to&nbsp;disrupt settlement. As&nbsp;transactions spread quickly through the Bitcoin network, successfully issuing a&nbsp;competing transaction to&nbsp;prevent that regretted trade would require collusion with the miner who happens to&nbsp;mine the next block&nbsp;— something a&nbsp;large mining pool probably would not want to&nbsp;risk its reputation for as&nbsp;such cheating attempts are perfectly detectable. The easy detectability also allows to&nbsp;automatically trigger counter-measures such as&nbsp;freezing the collateral of&nbsp;the trader or&nbsp;banning the trader. A&nbsp;related attack is&nbsp;based on&nbsp;transaction malleability. Transaction malleability is&nbsp;a&nbsp;weakness in&nbsp;the Bitcoin protocol that allows anyone to&nbsp;slightly alter a&nbsp;transaction in&nbsp;ways that cause the transaction to&nbsp;change its&nbsp;id (hash). Should the altered transaction enter the blockchain instead of&nbsp;the original one, already issued follow-up transactions will be&nbsp;orphaned and fail as&nbsp;they use the original id&nbsp;to&nbsp;refer to&nbsp;their predecessor. The necessary adaptations to&nbsp;the Bitcoin protocol to&nbsp;fix this are known, but not implemented yet.</p>
          <p>Another attack on&nbsp;the system could be&nbsp;performed by&nbsp;the exchange itself. If&nbsp;hacked or&nbsp;run by&nbsp;a&nbsp;malicious operator, whoever controls the exchange could potentially take possession of&nbsp;all assets in&nbsp;all currently pending orders. This is&nbsp;already much better than the risk of&nbsp;traditional exchanges like MtGox to&nbsp;misappropriate all their clients accounts, but is&nbsp;still a&nbsp;significant risk that needs to&nbsp;be&nbsp;addressed through according security and regulatory measures. Theoretically, one could improve the situation by&nbsp;adding order metadata to&nbsp;the transactions and convincing a&nbsp;majority of&nbsp;the miners to&nbsp;verify transactions and to&nbsp;refuse the settlement of&nbsp;invalid trades (for example, trades that does not respect the limit specified in&nbsp;the order). In&nbsp;practice, this might not be&nbsp;feasible due to&nbsp;the strong political resistance against any kind of&nbsp;major change to&nbsp;the Bitcoin protocol.</p>
          <p>All the aforementioned risks pale in&nbsp;comparison to&nbsp;the counterparty risk inherent in&nbsp;colored coins. Regardless of&nbsp;how securely the exchange is&nbsp;organized, an&nbsp;issuer of&nbsp;colored coins could default or&nbsp;misappropriate the underlying assets. An&nbsp;exchange can help to&nbsp;alleviate this risk by&nbsp;only allowing the trade of&nbsp;coins from verified issuers with quantifiable counterparty risk. This risk can be&nbsp;mitigated by&nbsp;diversifying coins across multiple issuers and by&nbsp;swapping to&nbsp;coins that are deemed less risky if&nbsp;necessary.</p>

          <h3>Leveraged Trading</h3>
          <p>In&nbsp;order to&nbsp;provide leveraged trading, an&nbsp;intermediary service such as&nbsp;a&nbsp;bank willing to&nbsp;provide credit is&nbsp;necessary. This is&nbsp;basically the same as&nbsp;traditional leveraged trading.</p>
          <p>Instead of&nbsp;directly trading on&nbsp;the exchange with their own wallets, traders will transfer their assets to&nbsp;a&nbsp;managed wallet. Such a&nbsp;managed wallet resembles a&nbsp;bank account, with the bank managing the wallet having full control over the contained assets. Like in&nbsp;classical banking, orders issued by&nbsp;the traders go&nbsp;to&nbsp;the bank first, where they are verified, and then sent to&nbsp;the exchange. The bank can then offer credit to&nbsp;the trader, which is&nbsp;added to&nbsp;the managed account. But as&nbsp;soon as&nbsp;the account is&nbsp;not sufficiently covered any more, the margin call is&nbsp;issued, the assets liquidated, and outstanding credit returned to&nbsp;the bank.</p>
          <h3>Competing Exchanges</h3>
          <p>At&nbsp;a&nbsp;later stage, it&nbsp;would also be&nbsp;nice to&nbsp;support competing exchanges. To&nbsp;do&nbsp;so, a&nbsp;protocol to&nbsp;discover the best trades needs to&nbsp;be&nbsp;introduced. Before issuing a&nbsp;trade, a&nbsp;trader takes a&nbsp;peek at&nbsp;the order book of&nbsp;various exchanges and then sends the order to&nbsp;whatever exchange he&nbsp;prefers. Assuming that all exchanges understand the same protocol and thanks to&nbsp;the fact that the traders does not need to&nbsp;have accounts with them, switching between exchanges on&nbsp;a&nbsp;per-trade bases is&nbsp;not problem. There could even be&nbsp;«best-execution» services to&nbsp;perform that work for the customer.</p>
          <h3>Integration</h3>
          <p>It&nbsp;would be&nbsp;good to&nbsp;explain, how the exchange interfaces with the existing banking architecture and state that every colored coin will get an&nbsp;ISIN number, see
            <a href="http://www.isin.org" target="_blank">www.isin.org</a>, which will be&nbsp;used to&nbsp;map the new instruments into existing risk management and bookkeeping systems.</p>
          <h3>Conclusion</h3>
          <p>Building a&nbsp;secure, high-performance exchange for colored coins is&nbsp;technically feasible. There are a&nbsp;number of&nbsp;trade-offs between performance and security. In&nbsp;a&nbsp;trusted environment, the highest performance is&nbsp;reached, whereas a&nbsp;completely secure setup comes at&nbsp;a&nbsp;price of&nbsp;slower transactions. Both approaches can be&nbsp;mixed depending on&nbsp;requirements. Distributed ledger technology allows to&nbsp;run such a&nbsp;crypto-exchange in&nbsp;a&nbsp;fully transparent and open way, potentially allowing for anyone to&nbsp;trade on&nbsp;it&nbsp;with minimal trust requirements and providing a&nbsp;platform for other crypto-services to&nbsp;build&nbsp;on. Such an&nbsp;exchange could be&nbsp;an&nbsp;integral part of&nbsp;the growing ecosystem of&nbsp;cryptocurrencies.</p>

          <h2>Software Architecture</h2>
          <h3>Basics</h3>
          <p>Essentially, there are three major components:</p>
          <ul>
            <li>
              <div class="li">The DLT core library, which connects to the ledger</div>
            </li>
            <li>
              <div class="li">The Colored Coin extension</div>
            </li>
            <li>
              <div class="li">Trading component</div>
            </li>
          </ul>
          <p>This section shortly describes them. Figure 2&nbsp;illustrates how these three components are connected. When it&nbsp;comes to&nbsp;Bitcoin, there are hundreds of&nbsp;open-source projects in&nbsp;various programming languages that all could potentially help in&nbsp;getting a&nbsp;head-start as&nbsp;one does not have to&nbsp;reinvent the wheel.</p>

          <figure class="image-container">
            <div class="image">
              <img src="img/exchange/softwarearchitecturebasics.png" class="img-responsive automargin" alt="">
            </div>
            <figcaption>Figure 2: Software Architecture Basics</figcaption>
          </figure>

          <h4>Core Library</h4>
          <p>This is&nbsp;the Bitcoin (or&nbsp;alternative DLT) core library. In&nbsp;the case of&nbsp;Bitcoin, the most major version is&nbsp;the main client, which is&nbsp;written in&nbsp;C++.&nbsp;This is&nbsp;what most network participants run. There is&nbsp;also a&nbsp;Java and a&nbsp;Go version of&nbsp;the core library. However, they are not as&nbsp;well-tested as&nbsp;the C++&nbsp;version, which can pose a&nbsp;risk. For example MtGox repeatedly run into difficulties with their own custom-built PHP version of&nbsp;the Bitcoin protocol.</p>
          <p>The core library connects to&nbsp;the Bitcoin network. If&nbsp;it&nbsp;is&nbsp;running as&nbsp;full node, it&nbsp;collects and verifies every single transaction that occurs. In&nbsp;SPV (simplified protocol version) mode, it&nbsp;only listens to&nbsp;those transactions that are relevant to&nbsp;the user. The C++&nbsp;version of&nbsp;the Bitcoin core can either be&nbsp;directly embedded into other software, or&nbsp;interacted with through a&nbsp;JSON RPC interface.</p>
          <h4>Colored Coin Extension</h4>
          <p>Building upon the core library, an&nbsp;extension to&nbsp;support colored coins is&nbsp;necessary. It&nbsp;scans relevant transactions for colored coins and maintains a&nbsp;database of&nbsp;balances by&nbsp;account.</p>
          <h4>Trading Component</h4>
          <p>The trading component sits on&nbsp;top of&nbsp;the colored coin extension and comes in&nbsp;to&nbsp;variants: one for the exchange and one for the trader. A&nbsp;custom protocol is&nbsp;used to&nbsp;interact between client and exchange, allowing to&nbsp;issue and cancel orders.</p>
          <h4>Potential Simplification</h4>
          <p>In&nbsp;principle, it&nbsp;would be&nbsp;possible to&nbsp;further simplify the trading client, by&nbsp;only letting it&nbsp;communicate with the exchange and not connecting to&nbsp;the distributed ledger. This slightly reduces the risk of&nbsp;attacks, as&nbsp;there is&nbsp;one less communication channel to&nbsp;the outside. But it&nbsp;the trader would have to&nbsp;rely completely on&nbsp;the data it&nbsp;gets from the exchange and would not be&nbsp;able to&nbsp;independently verify transactions any more.</p>

          <h3>Extended View</h3>
          <p>Figure 3&nbsp;illustrates how the basic architecture integrates in&nbsp;a&nbsp;wider context. On&nbsp;the trading side, there is&nbsp;the necessity for administrative tools as&nbsp;well as&nbsp;integration into existing trading desks via an&nbsp;appropriate choice of&nbsp;protocol (e.g. the popular FIX&nbsp;protocol). The administrative tools enable the monitoring of&nbsp;individual traders as&nbsp;well as&nbsp;the specification of&nbsp;limits and other restrictions.</p>
          <p>Figure 3 also depicts the role of the issuer. In practice, issuers will often also be traders and vice versa, but in principle, these are two distinct roles. Issuers issue new coins, which they can either do through their own distribution channels, or sell on the exchange. There is no necessity for a direct connection between issuer and trader, even though it might make sense to implement such a connection when enabling traders to quickly convert positions in traditional accounts into positions held in the form of colored coins.</p>

            <figure class="image-container">
              <div class="image">
                <img src="img/exchange/colorcoinexchangesoftwarearchitecture.png" class="img-responsive automargin" alt="">
              </div>
              <figcaption>Figure 3: Software Architecture</figcaption>
            </figure>

          <p>Since every successful trade is&nbsp;recorded in&nbsp;the public ledger, the public ledger becomes a&nbsp;valuable source of&nbsp;trading data. While it&nbsp;is&nbsp;not possible to&nbsp;identify the traders, any observer can deduct quantity and exchange rates as&nbsp;well as&nbsp;fees paid from the public data visible in&nbsp;the ledger. While the data in&nbsp;the ledger already provides transparency, it&nbsp;can also serve as&nbsp;a&nbsp;valuable source for research. The data collected by&nbsp;the exchange goes much further. The exchange can identify traders and knows about all issued orders, not only those that lead to&nbsp;trades. Thus, the exchange can provide additional information services, such as&nbsp;data about the order book or&nbsp;hourly fixings, which can be&nbsp;made public on&nbsp;the website or&nbsp;via open APIs. In&nbsp;the Bitcoin ecosystem, there are dozens of&nbsp;services that read such data provided by&nbsp;exchanges and visualize&nbsp;it.</p>

          <h3>Discuss</h3>
          <p>Discuss the white paper on the <a href="https://forum.lykkex.com/thread-10.html" target="_blank">Lykke forum</a></p>

          <hr class="full">
          <div class="footnotes">
            <p class="fn" id="fnt__1"><sup><a href="#fnt__1_link" class="fn_bot">1)</a></sup>
              Depends on transaction, see also Maximum Transaction Rate on Bitcoin Wiki</p>
            <p class="fn" id="fnt__2"><sup><a href="#fnt__2_link" class="fn_bot">2)</a></sup>
              Blockchain.info, Number of transactions per day. <a href="https://blockchain.info/charts/n-transactions" class="urlextern" title="https://blockchain.info/charts/n-transactions" rel="nofollow">https://blockchain.info/charts/n-transactions</a></p>
            <p class="fn" id="fnt__3"><sup><a href="#fnt__3_link" class="fn_bot">3)</a></sup>
              Gavin  <a href="https://gist.github.com/gavinandresen/e20c3b5a1d4b97f79ac2" class="urlextern" title="https://gist.github.com/gavinandresen/e20c3b5a1d4b97f79ac2" rel="nofollow">https://gist.github.com/gavinandresen/e20c3b5a1d4b97f79ac2</a></p>
          </div>
        </div>

      </div>
    </div>
  </section>
</article>

<footer class="footer page__footer">
  <div class="footer__bottom">
    <div class="container">
      <div class="row">
        <div class="col-xs-6 col-sm-6 text-right pull-right">
          <div class="clearfix">
            <ul class="social social--footer_alt">
              <li><a href="https://www.facebook.com/groups/542506412568917/" target="_blank" class="social__item"><i class="icon icon--fb_simple"></i></a></li>
              <li><a href="https://twitter.com/LykkeCity" target="_blank" class="social__item"><i class="icon icon--tw"></i></a></li>
              <li><a href="http://instagram.com/lykkecity" target="_blank" class="social__item"><i class="icon icon--instagram"></i></a></li>
              <li><a href="https://www.youtube.com/channel/UCmMYipGdKMF0kzfaE-PXsNQ" target="_blank" class="social__item"><i class="icon icon--youtube"></i></a></li>
              <li><a href="https://www.linkedin.com/company/lykke-ag" target="_blank" class="social__item"><i class="icon icon--linkedin-icn"></i></a></li>
              <li><a href="https://www.reddit.com/r/lykke/" target="_blank" class="social__item"><i class="icon icon--reddit"></i></a></li>
              <li><a href="https://t.co/TmjMYnQD7T" target="_blank" class="social__item"><i class="icon icon--telegram"></i></a></li>
            </ul>
          </div>
        </div>
        <div class="col-xs-6 col-sm-6 text-left">
          <div class="footer__copy">&copy; Lykke 2016. All rights reserved</div>
        </div>

      </div>
    </div>
  </div>
</footer>

<script src="js/vendor/jquery.min.js"></script>
<script src="js/vendor/bootstrap-custom.min.js"></script>
<script src="js/vendor/fastclick.min.js"></script>
<script src="js/vendor/jquery.inview.min.js"></script>
<script src="js/functions.js"></script>

</body>
</html>